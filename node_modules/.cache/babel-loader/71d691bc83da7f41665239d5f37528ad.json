{"ast":null,"code":"var _jsxFileName = \"/Users/mario/Documents/GitHub/whawhai/src/components/Router.tsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { _avatars } from \"../utils/avatars\";\nimport Title from \"./common/Title\";\nimport { _colors } from \"../utils/colors\";\nimport { warriorAttacks } from \"../utils/warriors\";\nimport Button from \"./common/Button\";\nimport { Cancel, Register, Status } from \"../api/axios\";\nimport Dialog from \"./common/Dialog\";\nimport { Grid, Avatar } from \"@mui/material\";\nimport { errors } from \"../utils/errors\";\nimport Home from \"../views/Home\";\nimport SelectWarrior from \"../views/SelectWarrior\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Router = () => {\n  _s();\n\n  const [warrior, setWarrior] = useState({\n    name: \"\",\n    warriorType: 0,\n    attacks: [-99, -99, -99]\n  });\n  const [dialogOpen, setDialogOpen] = useState(false);\n  const [warriorSelection, setWarriorSelection] = useState(false);\n  const [waitingScreen, setWaitingScreen] = useState(false);\n  const [fightingScreen, setFightingScreen] = useState(false);\n  const [doneScreen, setDoneScreen] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  const [severity, setSeverity] = useState(\"\");\n  const [fightResult, setFightResult] = useState({\n    ID: \"\",\n    Status: 0,\n    Warrior1: {\n      Name: \"\",\n      WarriorType: 0,\n      Attacks: [0]\n    },\n    Warrior2: {\n      Name: \"\",\n      WarriorType: 0,\n      Attacks: [0]\n    },\n    Rounds: [{\n      Warrior1Attack: 0,\n      Warrior2Attack: 0\n    }]\n  });\n  const warriorTypeSet = new Set([0, 1, 2, 3, 4]);\n  const warriorAttacksSet = new Set([0, 1, 2]);\n  const [currentFightId, setCurrentFightId] = useState(\"\");\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if ((waitingScreen || fightingScreen) && currentFightId) {\n        Status(currentFightId).then(result => {\n          if (result.data.result.fight.Status === 1) {\n            setWaitingScreen(false);\n            setFightingScreen(true);\n            setDoneScreen(false);\n            setFightResult(result.data.result.fight);\n          }\n\n          if (result.data.result.fight.Status === 2) {\n            setWaitingScreen(false);\n            setFightingScreen(false);\n            setDoneScreen(true);\n            setFightResult(result.data.result.fight);\n          }\n        });\n      }\n    }, 1000);\n    return () => clearInterval(interval);\n  }, [waitingScreen, fightingScreen, currentFightId]);\n\n  const roundWinner = r => {\n    switch (r.Warrior1Attack) {\n      case 0:\n        {\n          if (r.Warrior2Attack === 0) return 0; //paper - paper: tie\n          else if (r.Warrior2Attack === 1) return 2; //paper - scissors - w2\n          else if (r.Warrior2Attack === 2) return 1; //paper - rock - w1\n\n          break;\n        }\n\n      case 1:\n        {\n          if (r.Warrior2Attack === 0) return 1; //scissors - paper: w1\n          else if (r.Warrior2Attack === 1) return 0; //scissors - scissors - tie\n          else if (r.Warrior2Attack === 2) return 2; //scissors - rock - w2\n\n          break;\n        }\n\n      case 2:\n        {\n          if (r.Warrior2Attack === 0) return 2; //rock - paper: w2\n          else if (r.Warrior2Attack === 1) return 1; //scissors - scissors - w1\n          else if (r.Warrior2Attack === 2) return 0; //scissors - rock - tie\n\n          break;\n        }\n    }\n\n    return 99;\n  };\n\n  const calculateWinner = () => {\n    let winner = [];\n    fightResult.Rounds.map(round => winner.push(roundWinner(round)));\n    console.log(winner);\n    return winner;\n  };\n\n  const calculateMatchWinner = () => {\n    let winner = [];\n    let counts = [0, 0, 0];\n    fightResult.Rounds.map(round => winner.push(roundWinner(round)));\n\n    for (const num of winner) {\n      counts[num] = counts[num] ? counts[num] + 1 : 1;\n    }\n\n    if (counts[1] > 1 || counts[1] > 0 && counts[0] > 1) return 1;else if (counts[2] > 1 || counts[2] > 0 && counts[0] > 1) return 2;else if (counts[0] > 1) return 0;\n  };\n\n  useEffect(() => {\n    if (doneScreen) {}\n  }, [doneScreen]);\n\n  const validateForm = () => {\n    let err = 0;\n    if (warrior.name.length <= 0) err = 1;else if (warrior.name.length >= 26) err = 2;else if (!warriorTypeSet.has(warrior.warriorType)) err = 3;else if (warrior.attacks.length !== 3) err = 4;else if (!warriorAttacksSet.has(warrior.attacks[0])) err = 5;else if (!warriorAttacksSet.has(warrior.attacks[1])) err = 6;else if (!warriorAttacksSet.has(warrior.attacks[2])) err = 7;\n\n    if (err === 0) {\n      Register(warrior).then(result => {\n        if (result.data.result.id) {\n          setCurrentFightId(result.data.result.id);\n          setWaitingScreen(true);\n        }\n      });\n    } else {\n      setMessage(errors[err - 1]);\n      setSeverity(\"error\");\n      setDialogOpen(true);\n    }\n\n    ;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      textAlign: \"center\",\n      maxWidth: \"40vw\",\n      marginLeft: \"30vw\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(Dialog, {\n      severity: severity,\n      open: dialogOpen,\n      setOpen: setDialogOpen,\n      message: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }, this), warriorSelection ? /*#__PURE__*/_jsxDEV(SelectWarrior, {\n      warrior: warrior,\n      setWarrior: setWarrior,\n      setWarriorSelection: setWarriorSelection\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 9\n    }, this) : waitingScreen ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        children: \"Pakipaki\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 4,\n          style: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            fontSize: 35,\n            color: _colors.secondary\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: warrior.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Avatar, {\n            sx: {\n              width: 100,\n              height: 100\n            },\n            src: _avatars[warrior.warriorType]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 4,\n          style: {\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            fontSize: 35,\n            color: _colors.secondary\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"VS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 4,\n          style: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            fontSize: 35,\n            color: _colors.secondary\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Unknown\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Avatar, {\n            sx: {\n              border: \"1px solid #000\",\n              width: 100,\n              height: 100,\n              color: _colors.secondary,\n              fontFamily: \"inherit\",\n              fontSize: 75\n            },\n            children: \"?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: \"white\",\n          background: _colors.green,\n          width: \"100%\",\n          textAlign: \"center\",\n          padding: 20,\n          marginTop: 20,\n          fontSize: 40\n        },\n        children: \"Waiting for 2nd player to join\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 30\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => {\n            Cancel(currentFightId);\n            setCurrentFightId(\"\");\n            setWaitingScreen(false);\n          },\n          children: \"Panic!!!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : fightingScreen && fightResult ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        children: \"Pakipaki\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 4,\n          style: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            fontSize: 35,\n            color: _colors.secondary\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: fightResult.Warrior1.Name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Avatar, {\n            sx: {\n              width: 100,\n              height: 100\n            },\n            src: _avatars[fightResult.Warrior1.WarriorType]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 4,\n          style: {\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            fontSize: 35,\n            color: _colors.secondary\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"VS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 4,\n          style: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            fontSize: 35,\n            color: _colors.secondary\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: fightResult.Warrior2.Name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Avatar, {\n            sx: {\n              width: 100,\n              height: 100\n            },\n            src: _avatars[fightResult.Warrior2.WarriorType]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: \"white\",\n          background: _colors.green,\n          width: \"100%\",\n          textAlign: \"center\",\n          padding: 20,\n          marginTop: 20,\n          fontSize: 40\n        },\n        children: [\"Beating the shit out of\", \" \", fightResult.Warrior1.Name === warrior.name ? fightResult.Warrior2.Name : fightResult.Warrior1.Name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 30\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => {\n            Cancel(currentFightId);\n            setCurrentFightId(\"\");\n            setWaitingScreen(false);\n          },\n          children: \"Surrender!!!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : doneScreen ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        children: \"Pakipaki\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 4,\n          style: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            fontSize: 35,\n            color: _colors.secondary\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: fightResult.Warrior1.Name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Avatar, {\n            sx: {\n              width: 100,\n              height: 100,\n              border: calculateMatchWinner() === 1 ? \"3px solid\" + _colors.green : \"\"\n            },\n            src: _avatars[fightResult.Warrior1.WarriorType]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 15\n          }, this), calculateMatchWinner() === 1 && /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: _colors.green\n            },\n            children: \"Winner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 4,\n          style: {\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            fontSize: 75,\n            color: _colors.secondary\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"VS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 4,\n          style: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            fontSize: 35,\n            color: _colors.secondary\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: fightResult.Warrior2.Name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Avatar, {\n            sx: {\n              width: 100,\n              height: 100,\n              border: calculateMatchWinner() === 2 ? \"3px solid\" + _colors.green : \"\"\n            },\n            src: _avatars[fightResult.Warrior2.WarriorType],\n            onClick: () => setWarriorSelection(true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 15\n          }, this), calculateMatchWinner() === 2 && /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: _colors.green\n            },\n            children: \"Winner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: _colors.secondary,\n          width: \"100%\",\n          textAlign: \"center\",\n          padding: 20,\n          marginTop: 20,\n          fontSize: 40\n        },\n        children: fightResult.Rounds.map((round, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [i + 1, \".\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              opacity: calculateWinner()[i] === 0 || calculateWinner()[i] === 1 ? 1 : 0.8\n            },\n            children: warriorAttacks[fightResult.Warrior1.WarriorType][round.Warrior1Attack]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 17\n          }, this), \" \", \"-\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              opacity: calculateWinner()[i] === 0 || calculateWinner()[i] === 2 ? 1 : 0.8\n            },\n            children: warriorAttacks[fightResult.Warrior2.WarriorType][round.Warrior2Attack]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 30\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => {\n            validateForm();\n            setDoneScreen(false);\n            setWaitingScreen(true);\n          },\n          children: \"Again!!!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(Home, {\n      warrior: warrior,\n      setWarrior: setWarrior,\n      setWarriorSelection: setWarriorSelection,\n      validateForm: validateForm\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 480,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 162,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Router, \"mR6u7Qc4m8w3+wP7u5r0hfpT9hM=\");\n\n_c = Router;\nexport default Router;\n\nvar _c;\n\n$RefreshReg$(_c, \"Router\");","map":{"version":3,"names":["useEffect","useState","_avatars","Title","_colors","warriorAttacks","Button","Cancel","Register","Status","Dialog","Grid","Avatar","errors","Home","SelectWarrior","Router","warrior","setWarrior","name","warriorType","attacks","dialogOpen","setDialogOpen","warriorSelection","setWarriorSelection","waitingScreen","setWaitingScreen","fightingScreen","setFightingScreen","doneScreen","setDoneScreen","message","setMessage","severity","setSeverity","fightResult","setFightResult","ID","Warrior1","Name","WarriorType","Attacks","Warrior2","Rounds","Warrior1Attack","Warrior2Attack","warriorTypeSet","Set","warriorAttacksSet","currentFightId","setCurrentFightId","interval","setInterval","then","result","data","fight","clearInterval","roundWinner","r","calculateWinner","winner","map","round","push","console","log","calculateMatchWinner","counts","num","validateForm","err","length","has","id","textAlign","maxWidth","marginLeft","display","flexDirection","alignItems","justifyContent","fontSize","color","secondary","width","height","border","fontFamily","background","green","padding","marginTop","i","opacity"],"sources":["/Users/mario/Documents/GitHub/whawhai/src/components/Router.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { _avatars } from \"../utils/avatars\";\r\nimport Title from \"./common/Title\";\r\nimport { _colors } from \"../utils/colors\";\r\nimport { warriorAttacks, Warrior } from \"../utils/warriors\";\r\nimport Button from \"./common/Button\";\r\nimport { Cancel, Register, Status } from \"../api/axios\";\r\nimport Dialog from \"./common/Dialog\";\r\nimport {\r\n  Grid,\r\n  Avatar,\r\n} from \"@mui/material\";\r\nimport { errors } from \"../utils/errors\";\r\nimport Home from \"../views/Home\";\r\nimport SelectWarrior from \"../views/SelectWarrior\";\r\n\r\ninterface FightWarrior {\r\n  Name: string;\r\n  WarriorType: number;\r\n  Attacks: number[];\r\n}\r\n\r\ninterface Round {\r\n  Warrior1Attack: number;\r\n  Warrior2Attack: number;\r\n}\r\n\r\ninterface Fight {\r\n  ID: string;\r\n  Status: number;\r\n  Warrior1: FightWarrior;\r\n  Warrior2: FightWarrior;\r\n  Rounds: Round[];\r\n  Err?: any;\r\n}\r\n\r\nconst Router = () => {\r\n  const [warrior, setWarrior] = useState<Warrior>({\r\n    name: \"\",\r\n    warriorType: 0,\r\n    attacks: [-99, -99, -99],\r\n  });\r\n\r\n  const [dialogOpen, setDialogOpen] = useState<boolean>(false);\r\n  const [warriorSelection, setWarriorSelection] = useState<boolean>(false);\r\n  const [waitingScreen, setWaitingScreen] = useState<boolean>(false);\r\n  const [fightingScreen, setFightingScreen] = useState<boolean>(false);\r\n  const [doneScreen, setDoneScreen] = useState<boolean>(false);\r\n\r\n  const [message, setMessage] = useState<string>(\"\")\r\n  const [severity, setSeverity] = useState<string>(\"\")\r\n\r\n  const [fightResult, setFightResult] = useState<Fight>({\r\n    ID: \"\",\r\n    Status: 0,\r\n    Warrior1: { Name: \"\", WarriorType: 0, Attacks: [0] },\r\n    Warrior2: { Name: \"\", WarriorType: 0, Attacks: [0] },\r\n    Rounds: [{ Warrior1Attack: 0, Warrior2Attack: 0 }],\r\n  });\r\n\r\n  const warriorTypeSet: Set<number> = new Set([0, 1, 2, 3, 4]);\r\n  const warriorAttacksSet: Set<number> = new Set([0, 1, 2]);\r\n\r\n  const [currentFightId, setCurrentFightId] = useState<string>(\"\");\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      if ((waitingScreen || fightingScreen) && currentFightId) {\r\n        Status(currentFightId).then((result) => {\r\n          if (result.data.result.fight.Status === 1) {\r\n            setWaitingScreen(false);\r\n            setFightingScreen(true);\r\n            setDoneScreen(false);\r\n            setFightResult(result.data.result.fight);\r\n          }\r\n          if (result.data.result.fight.Status === 2) {\r\n            setWaitingScreen(false);\r\n            setFightingScreen(false);\r\n            setDoneScreen(true);\r\n            setFightResult(result.data.result.fight);\r\n          }\r\n        });\r\n      }\r\n    }, 1000);\r\n    return () => clearInterval(interval);\r\n  }, [waitingScreen, fightingScreen, currentFightId]);\r\n\r\n  const roundWinner = (r: Round): number => {\r\n    switch (r.Warrior1Attack) {\r\n      case 0: {\r\n        if (r.Warrior2Attack === 0) return 0; //paper - paper: tie\r\n        else if (r.Warrior2Attack === 1) return 2; //paper - scissors - w2\r\n        else if (r.Warrior2Attack === 2) return 1; //paper - rock - w1\r\n        break;\r\n      }\r\n      case 1: {\r\n        if (r.Warrior2Attack === 0) return 1; //scissors - paper: w1\r\n        else if (r.Warrior2Attack === 1) return 0; //scissors - scissors - tie\r\n        else if (r.Warrior2Attack === 2) return 2; //scissors - rock - w2\r\n        break;\r\n      }\r\n      case 2: {\r\n        if (r.Warrior2Attack === 0) return 2; //rock - paper: w2\r\n        else if (r.Warrior2Attack === 1) return 1; //scissors - scissors - w1\r\n        else if (r.Warrior2Attack === 2) return 0; //scissors - rock - tie\r\n        break;\r\n      }\r\n    }\r\n    return 99;\r\n  };\r\n\r\n  const calculateWinner = () => {\r\n    let winner: number[] = [];\r\n    fightResult.Rounds.map((round) =>\r\n      winner.push(roundWinner(round))\r\n    );\r\n    console.log(winner);\r\n    return winner;\r\n  };\r\n\r\n  const calculateMatchWinner = () => {\r\n    let winner: number[] = [];\r\n    let counts: number[] = [0, 0, 0];\r\n    fightResult.Rounds.map((round) =>\r\n      winner.push(roundWinner(round))\r\n    );\r\n    for (const num of winner) {\r\n      counts[num] = counts[num] ? counts[num] + 1 : 1;\r\n    }\r\n    if (counts[1] > 1 || (counts[1] > 0 && counts[0] > 1)) return 1;\r\n    else if (counts[2] > 1 || (counts[2] > 0 && counts[0] > 1)) return 2;\r\n    else if (counts[0] > 1) return 0;\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (doneScreen) {\r\n    }\r\n  }, [doneScreen]);\r\n\r\n  const validateForm = () => {\r\n    let err: number = 0;\r\n    if (\r\n      warrior.name.length <= 0) err = 1\r\n    else if (\r\n      warrior.name.length >= 26) err = 2\r\n    else if (!warriorTypeSet.has(warrior.warriorType)) err = 3\r\n    else if (warrior.attacks.length !== 3) err = 4\r\n    else if (!warriorAttacksSet.has(warrior.attacks[0])) err = 5\r\n    else if (!warriorAttacksSet.has(warrior.attacks[1])) err = 6\r\n    else if (!warriorAttacksSet.has(warrior.attacks[2])) err = 7\r\n    if (err === 0) {\r\n      Register(warrior).then((result) => {\r\n        if (result.data.result.id) {\r\n          setCurrentFightId(result.data.result.id);\r\n          setWaitingScreen(true);\r\n        }\r\n      });\r\n    } else { setMessage(errors[err - 1]); setSeverity(\"error\"); setDialogOpen(true) };\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        textAlign: \"center\",\r\n        maxWidth: \"40vw\",\r\n        marginLeft: \"30vw\",\r\n      }}\r\n    >\r\n      <Dialog severity={severity} open={dialogOpen} setOpen={setDialogOpen} message={message} />\r\n      {warriorSelection ? (\r\n        <SelectWarrior warrior={warrior} setWarrior={setWarrior} setWarriorSelection={setWarriorSelection} />\r\n      ) : waitingScreen ? (\r\n        <>\r\n          <Title>Pakipaki</Title>\r\n          <Grid container>\r\n            <Grid\r\n              item\r\n              xs={4}\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n                fontSize: 35,\r\n                color: _colors.secondary,\r\n              }}\r\n            >\r\n              <div>{warrior.name}</div>\r\n              <Avatar\r\n                sx={{ width: 100, height: 100 }}\r\n                src={_avatars[warrior.warriorType]}\r\n              />\r\n            </Grid>\r\n            <Grid\r\n              item\r\n              xs={4}\r\n              style={{\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n                fontSize: 35,\r\n                color: _colors.secondary,\r\n              }}\r\n            >\r\n              <div>VS</div>\r\n            </Grid>\r\n            <Grid\r\n              item\r\n              xs={4}\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n                fontSize: 35,\r\n                color: _colors.secondary,\r\n              }}\r\n            >\r\n              <div>Unknown</div>\r\n              <Avatar\r\n                sx={{\r\n                  border: \"1px solid #000\",\r\n                  width: 100,\r\n                  height: 100,\r\n                  color: _colors.secondary,\r\n                  fontFamily: \"inherit\",\r\n                  fontSize: 75,\r\n                }}\r\n              >\r\n                ?\r\n              </Avatar>\r\n            </Grid>\r\n          </Grid>\r\n\r\n          <div\r\n            style={{\r\n              color: \"white\",\r\n              background: _colors.green,\r\n              width: \"100%\",\r\n              textAlign: \"center\",\r\n              padding: 20,\r\n              marginTop: 20,\r\n              fontSize: 40,\r\n            }}\r\n          >\r\n            Waiting for 2nd player to join\r\n          </div>\r\n\r\n          <div style={{ marginTop: 30 }}>\r\n            <Button\r\n              onClick={() => {\r\n                Cancel(currentFightId);\r\n                setCurrentFightId(\"\");\r\n                setWaitingScreen(false);\r\n              }}\r\n            >\r\n              Panic!!!\r\n            </Button>\r\n          </div>\r\n        </>\r\n      ) : fightingScreen && fightResult ? (\r\n        <>\r\n          <Title>Pakipaki</Title>\r\n          <Grid container>\r\n            <Grid\r\n              item\r\n              xs={4}\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n                fontSize: 35,\r\n                color: _colors.secondary,\r\n              }}\r\n            >\r\n              <div>{fightResult.Warrior1.Name}</div>\r\n              <Avatar\r\n                sx={{ width: 100, height: 100 }}\r\n                src={_avatars[fightResult.Warrior1.WarriorType]}\r\n              />\r\n            </Grid>\r\n            <Grid\r\n              item\r\n              xs={4}\r\n              style={{\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n                fontSize: 35,\r\n                color: _colors.secondary,\r\n              }}\r\n            >\r\n              <div>VS</div>\r\n            </Grid>\r\n            <Grid\r\n              item\r\n              xs={4}\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n                fontSize: 35,\r\n                color: _colors.secondary,\r\n              }}\r\n            >\r\n              <div>{fightResult.Warrior2.Name}</div>\r\n              <Avatar\r\n                sx={{ width: 100, height: 100 }}\r\n                src={_avatars[fightResult.Warrior2.WarriorType]}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n\r\n          <div\r\n            style={{\r\n              color: \"white\",\r\n              background: _colors.green,\r\n              width: \"100%\",\r\n              textAlign: \"center\",\r\n              padding: 20,\r\n              marginTop: 20,\r\n              fontSize: 40,\r\n            }}\r\n          >\r\n            Beating the shit out of{\" \"}\r\n            {fightResult.Warrior1.Name === warrior.name\r\n              ? fightResult.Warrior2.Name\r\n              : fightResult.Warrior1.Name}\r\n          </div>\r\n\r\n          <div style={{ marginTop: 30 }}>\r\n            <Button\r\n              onClick={() => {\r\n                Cancel(currentFightId);\r\n                setCurrentFightId(\"\");\r\n                setWaitingScreen(false);\r\n              }}\r\n            >\r\n              Surrender!!!\r\n            </Button>\r\n          </div>\r\n        </>\r\n      ) : doneScreen ? (\r\n        <>\r\n          <Title>Pakipaki</Title>\r\n          <Grid container>\r\n            <Grid\r\n              item\r\n              xs={4}\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n                fontSize: 35,\r\n                color: _colors.secondary,\r\n              }}\r\n            >\r\n              <div>{fightResult.Warrior1.Name}</div>\r\n              <Avatar\r\n                sx={{\r\n                  width: 100,\r\n                  height: 100,\r\n                  border:\r\n                    calculateMatchWinner() === 1\r\n                      ? \"3px solid\" + _colors.green\r\n                      : \"\",\r\n                }}\r\n                src={_avatars[fightResult.Warrior1.WarriorType]}\r\n              />\r\n              {calculateMatchWinner() === 1 && (\r\n                <span style={{ color: _colors.green }}>Winner</span>\r\n              )}\r\n            </Grid>\r\n            <Grid\r\n              item\r\n              xs={4}\r\n              style={{\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n                fontSize: 75,\r\n                color: _colors.secondary,\r\n              }}\r\n            >\r\n              <div>VS</div>\r\n            </Grid>\r\n            <Grid\r\n              item\r\n              xs={4}\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n                fontSize: 35,\r\n                color: _colors.secondary,\r\n              }}\r\n            >\r\n              <div>{fightResult.Warrior2.Name}</div>\r\n              <Avatar\r\n                sx={{\r\n                  width: 100,\r\n                  height: 100,\r\n                  border:\r\n                    calculateMatchWinner() === 2\r\n                      ? \"3px solid\" + _colors.green\r\n                      : \"\",\r\n                }}\r\n                src={_avatars[fightResult.Warrior2.WarriorType]}\r\n                onClick={() => setWarriorSelection(true)}\r\n              />\r\n              {calculateMatchWinner() === 2 && (\r\n                <span style={{ color: _colors.green }}>Winner</span>\r\n              )}\r\n            </Grid>\r\n          </Grid>\r\n\r\n          <div\r\n            style={{\r\n              color: _colors.secondary,\r\n              width: \"100%\",\r\n              textAlign: \"center\",\r\n              padding: 20,\r\n              marginTop: 20,\r\n              fontSize: 40,\r\n            }}\r\n          >\r\n            {fightResult.Rounds.map((round, i) => (\r\n              <div>\r\n                {i + 1}.{\" \"}\r\n                <span\r\n                  style={{\r\n                    opacity:\r\n                      calculateWinner()[i] === 0 || calculateWinner()[i] === 1\r\n                        ? 1\r\n                        : 0.8,\r\n                  }}\r\n                >\r\n                  {\r\n                    warriorAttacks[fightResult.Warrior1.WarriorType][\r\n                    round.Warrior1Attack\r\n                    ]\r\n                  }\r\n                </span>{\" \"}\r\n                -{\" \"}\r\n                <span\r\n                  style={{\r\n                    opacity:\r\n                      calculateWinner()[i] === 0 || calculateWinner()[i] === 2\r\n                        ? 1\r\n                        : 0.8,\r\n                  }}\r\n                >\r\n                  {\r\n                    warriorAttacks[fightResult.Warrior2.WarriorType][\r\n                    round.Warrior2Attack\r\n                    ]\r\n                  }\r\n                </span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          <div style={{ marginTop: 30 }}>\r\n            <Button\r\n              onClick={() => {\r\n                validateForm();\r\n                setDoneScreen(false);\r\n                setWaitingScreen(true);\r\n              }}\r\n            >\r\n              Again!!!\r\n            </Button>\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <Home warrior={warrior} setWarrior={setWarrior} setWarriorSelection={setWarriorSelection} validateForm={validateForm} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Router;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}